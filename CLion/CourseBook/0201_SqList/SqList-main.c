#include <stdio.h>
#include "SqList.h"                                //**02 ???**//

// ??data>e????
Status CmpGreater(ElemType data, ElemType e) {
    return data > e ? TRUE : FALSE;
}

// ?????????
void PrintElem(ElemType e) {
    printf(" value=%d\n ",e);
}


int main(int argc, char** argv) {
    SqList L;   // ???????
    printf("???????&L=%p\n",&L);//??????????????????????????????????????????????????????&???????????????????????????????????????????????????
    printf("???????&L=&L.elem=%p\n",&(L.elem));
    printf("????????L???????L=%p\n",L);//?????????????????????????????????
    printf("????L.elem??=%d\n",L.elem);//?????????????????????????????????
    int i;
    ElemType e;
    printf("???????? InitList \n");
    {
        printf("? ?????? L ...\n");
        InitList(&L);
    }

    PressEnterToContinue(debug);

    printf("????????=====================================================\n");

    /*
    
    printf("???????? ListEmpty \n");
    {
        if(ListEmpty(L) == TRUE) {
            printf("? L ????\n");
        } else {
            printf("? L ????\n");
        }
    }
    PressEnterToContinue(debug);
     */


    printf("???????? ListInsert \n");
    {
        for(i = 1; i <= 8; i++) {
            printf("? ?????? L ? %d ????? \"%d\"...\n", i, 2 * i);
            ListInsert(&L, i, 2 * i);
        }
    }


    PressEnterToContinue(debug);


    printf("???????? ListTraverse \n");
    {
        printf("???????????L??????????%p,????size?:%d\n",L,sizeof(L));
        printf("? L ??????L = ");
     //   printf("PrintElem=%p\n",PrintElem);
        ListTraverse(L, PrintElem);
    }
    PressEnterToContinue(debug);

    
    printf("???????? ListLength \n");
    {
        i = ListLength(L);
        printf("? L ???? %d \n", i);
    }
    PressEnterToContinue(debug);
    

    printf("???????? ListDelete \n");
    {
        printf("? ???????L = \n");
        ListTraverse(L, PrintElem);
        
        printf("? ???? L ?? 6 ???...\n");
        
        if(ListDelete(&L, 6, &e) == OK) {
            printf("? ????????????\"%d\"\n", e);
        } else {
            printf("? ?????? 6 ???????\n");
        }
        
        printf("? ???????L = ");
        ListTraverse(L, PrintElem);
    }
    PressEnterToContinue(debug);
    
/*
    printf("???????? GetElem \n");
    {
        GetElem(L, 4, &e);
        printf("? L ?? 4 ??????? \"%d\" \n", e);
    }
    PressEnterToContinue(debug);

 */
    printf("???????? LocateElem \n");
    {
        i = LocateElem(L, 7, CmpGreater);
        printf("? L ????????? \"7\" ???? \"%d\" \n", L.elem[i - 1]);
    }
    PressEnterToContinue(debug);
    

    printf("???????? PriorElem \n");
    {
        ElemType cur_e = 6;
        
        if(PriorElem(L, cur_e, &e) == OK) {
            printf("? ?? \"%d\" ???? \"%d\" \n", cur_e, e);
        } else {
            printf("? ?? \"%d\" ???????\n", cur_e);
        }
    }
    PressEnterToContinue(debug);
    


    printf("???????? NextElem \n");
    {
        ElemType cur_e = 6;
        
        if(NextElem(L, cur_e, &e) == OK) {
            printf("? ?? \"%d\" ???? \"%d\" \n", cur_e, e);
        } else {
            printf("? ?? \"%d\" ???????\n", cur_e);
        }
    }
    PressEnterToContinue(debug);


    
    printf("???????? ClearList \n");
    {
        printf("? ?? L ??");
        if(ListEmpty(L) == TRUE) {
            printf(" L ????\n");
        } else {
            printf(" L ????\n");
        }
        
        ClearList(&L);
        
        printf("? ?? L ??");
        if(ListEmpty(L) == TRUE) {
            printf(" L ????\n");
        } else {
            printf(" L ????\n");
        }
    }
    PressEnterToContinue(debug);

    
    printf("???????? DestroyList \n");
    {
        printf("? ?? L ??");
        if(L.elem != NULL) {
            printf(" L ???\n");
        } else {
            printf(" L ?????\n");
        }
        
        DestroyList(&L);
        
        printf("? ?? L ??");
        if(L.elem != NULL) {
            printf(" L ???\n");
        } else {
            printf(" L ?????\n");
        }
    }
    PressEnterToContinue(debug);
    
    
    return 0;

}
